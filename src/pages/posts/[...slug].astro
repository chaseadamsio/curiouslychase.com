---
import { CollectionEntry, getCollection } from "astro:content";
import Blockquote from "../../components/Blockquote.astro";
import MaybeLink from "../../components/MaybeLink.astro";
import OrderedList from "../../components/mdx/OrderedList.astro";
import Paragraph from "../../components/Paragraph.astro";
import Table from "../../components/Table.astro";
import UnorderedList from "../../components/mdx/UnorderedList.astro";

export async function getStaticPaths() {
	const posts = await getCollection("posts");
	return posts.map((post) => ({
		params: { slug: post.slug },
		props: post,
	}));
}
type Props = CollectionEntry<"posts">;

const post = Astro.props;
const { Content } = await post.render();
---

<Content
	components={{
		a: MaybeLink,
		blockquote: Blockquote,
		p: Paragraph,
		ul: UnorderedList,
		ol: OrderedList,
		table: Table,
	}}
/>
